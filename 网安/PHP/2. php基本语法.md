# php基本语法

[TOC]

## 一. 基本格式

PHP 脚本可以放在文档中的任何位置。

PHP 脚本以 **<?php** 开始，以 **?>** 结束：

```php
<?php
// PHP 代码
?>
```

PHP 文件的默认文件扩展名是 **.php**。

PHP 文件通常包含 HTML 标签和一些 PHP 脚本代码。

### 1.1 注释

```php
<!DOCTYPE html>
<html>
<body><?php
// 这是 PHP 单行注释
/*
这是 
PHP 多行
注释
*/
?>
</body>
</html>
```

### 1.2 输出

在 PHP 中有两个基本的输出方式： echo 和 print

echo 和 print 区别:

- echo - 可以输出一个或多个字符串。
- print - 只允许输出一个字符串，返回值总为 1。

echo是经常用的，一般用于回显，比如sql注入时回显查询语句结果

**提示：**echo 输出的速度比 print 快， echo 没有返回值，print有返回值1

### 1.3 变量

PHP 变量规则：

- 变量以 $ 符号开始，后面跟着变量的名称
- 变量名必须以字母或者下划线字符开始
- 变量名只能包含字母数字字符以及下划线（A-z、0-9 和 _ ）
- 变量名不能包含空格
- 变量名是区分大小写的(PHP 语句和 PHP 变量都是区分大小写的)

```php
<?php
$x=5;
$y=6;
$z=$x+$y;
echo $z;

$txt="Hello world!";
//赋一个文本值给变量时，在文本值两侧加上引号
?>
```

php是弱类型语言，不用在变量前面加类型，PHP 会根据变量的值，自动把变量转换为正确的数据类型。从学安全的角度，能看懂哪个是变量就ok了，如果以后学的更深入了，需要使用php来写POC，进行持续性漏洞再回过头来学习命名规则等

#### 1.3.1 弱类型安全

php中有一些相等的值

- ''== 0 == false ==NULL
- '123'==123
- 'abc'==0
- '123a'==123
- '0x01'==1
- '0e123456789'=='0e987654321'
- [false] == [0] == [NULL] == ['']
- true == 1

在PHP中，比较两个值是否相等可以使用“ == ”或“===”，前者会自动进行类型转换

```php
<?php
$input = "1abc";
if($input==1)
{
	echo "flag";
}
?>
//输出flag
```

#### 1.3.2 变量作用域

变量的作用域是脚本中变量可被引用/使用的部分。

PHP 有四种不同的变量作用域：

- local局部
- global全局：
  - global 关键字用于函数内访问全局变量
  - 在函数内调用函数外定义的全局变量，我们需要在函数中的变量前加上 global 关键字

- static：
  - 当一个函数完成时，它的所有变量通常都会被删除。然而，有时候希望某个局部变量不要被删除，要做到这一点，请在您第一次声明变量时使用 **static** 关键字
- parameter：
  - 参数是通过调用代码将值传递给函数的局部变量。参数是在参数列表中声明的，作为函数声明的一部分
